<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Sort data by date in d3.js</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

    </head>
    <body>

        <div class="site">
          <div class="header">
            <h1 class="title"><a href="/">Melki's page</a></h1>
            <a class="extra" href="/">home</a>
          </div>

          <h2>Sort data by date in d3.js</h2>
<p class="meta">03 Apr 2014</p>

<div class="post">
<h1>How to sort data by date ?</h1>

<p>I wanted to order data from a csv by date, and I didn&#39;t found a built-in function in d3.
So after importing the data from the csv (or json as you want), here is what you do :</p>
<div class="highlight"><pre><code class="javascript language-javascript" data-lang="javascript"><span class="nx">d3</span><span class="p">.</span><span class="nx">csv</span><span class="p">(</span><span class="s1">&#39;yourData.csv&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>

    <span class="nx">data</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span>

        <span class="nx">d</span><span class="p">.</span><span class="nb">Date</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">d</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]);</span>
        <span class="c1">//I have a date column in my csv;</span>
        <span class="nx">d</span><span class="p">.</span><span class="nx">DateNumber</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nb">Date</span><span class="p">.</span><span class="nx">getDate</span><span class="p">();</span>
        <span class="c1">//I wanted to order them by day, but it&#39;s possible with month and year as well :</span>
        <span class="c1">// d.Date.getFullYear()+&#39;&#39;+d.Date.getMonth() + &#39;&#39; +  d.Date.getDate() + &#39;&#39;;</span>
        <span class="nx">d</span><span class="p">.</span><span class="nx">DateNumber</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">DateNumber</span><span class="p">);</span>
    <span class="p">});</span>

    <span class="nx">data</span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">){</span>
        <span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">DateNumber</span> <span class="o">-</span> <span class="nx">b</span><span class="p">.</span><span class="nx">DateNumber</span> <span class="c1">//order them by the number and that&#39;s done !</span>
    <span class="p">});</span>

<span class="p">});</span>
</code></pre></div>
</div>


          <div class="footer">
            <div class="contact">
              <p>
               Melki Toldi<br />
                French Tweaker<br />
                melchior.toldi@gmail.com
              </p>
            </div>
            <div class="contact">
              <p>
                <a href="https://github.com/melki">github.com/melki</a><br />
                <a href="https://twitter.com/MelkiToldi">twitter.com/MelkiToldi</a><br />
              </p>
            </div>
          </div>
        </div>

    </body>
</html>
